(this["webpackJsonpbtl-react"]=this["webpackJsonpbtl-react"]||[]).push([[0],{148:function(e,t){},150:function(e,t){},161:function(e,t){},163:function(e,t){},190:function(e,t){},192:function(e,t){},193:function(e,t){},198:function(e,t){},200:function(e,t){},219:function(e,t){},231:function(e,t){},234:function(e,t){},261:function(e,t,n){},266:function(e,t,n){},267:function(e,t,n){},268:function(e,t,n){},271:function(e,t,n){},272:function(e,t,n){},273:function(e,t,n){},274:function(e,t,n){},275:function(e,t,n){},276:function(e,t,n){},277:function(e,t,n){},278:function(e,t,n){},279:function(e,t,n){"use strict";n.r(t);var a=n(1),s=n(133),c=n.n(s),o=n(12),i=(Object.freeze({User:"user",Admin:"admin"}),Object.freeze({Board:"BOARD",Project:"PROJECT",Priority:"PRIORITY",Size:"SIZE",Status:"STATUS",Stage:"STAGE",Column:"COLUMN",Tag:"TAG",Team:"TEAM"})),r={id:0,title:"",disporder:0,boardcode:"",projectcode:"",prioritycode:"",sizecode:"",statuscode:"",createdbyuser:"",createdtimestamp:"",assignedtouser:"",assignedtimestamp:"",closedbyuser:"",closedtimestamp:"",duedate:"",description:"",comments:""},d=null,l=function(){localStorage.setItem("demoDb",JSON.stringify(d))},u=function(e,t){return new Date(e.getFullYear(),e.getMonth(),e.getDate()+t)},m=[{username:"admin",name:"Admin User",email:"admin@mail.com",password:"admin",role:"Admin",boardcode:"Dev",token:"test-jwt-token"},{username:"user-1",name:"Regular User 1",email:"user1@mail.com",password:"user-1",role:"User",boardcode:"Dev"},{username:"dev-luker",name:"Luke Rogers",email:"luker@mail.com",password:"luker",role:"User",boardcode:"Dev"},{username:"dev-gailp",name:"Gail Parsons",email:"gailp@mail.com",password:"gailp",role:"User",boardcode:"Dev"},{username:"qa-patches",name:"Patches the Whippet",email:"patches@mail.com",password:"patches",role:"User",boardcode:"Dev"},{username:"qa-belladb",name:"Bella deBoer",email:"belladb@mail.com",password:"belladb",role:"User",boardcode:"Dev"}],b=[{id:1,codetype:i.Board,code:"Dev",description:"Dev board"},{id:2,codetype:i.Board,code:"Bugs",description:"Bugs board"},{id:3,codetype:i.Project,code:"WebUi",description:"Web UI Project"},{id:4,codetype:i.Project,code:"RestApi",description:"Rest API Project"},{id:5,codetype:i.Priority,code:"High",description:"High Priority"},{id:6,codetype:i.Priority,code:"Medium",description:"Medium Priority"},{id:7,codetype:i.Priority,code:"Low",description:"Low Priority"},{id:8,codetype:i.Status,code:"Open",description:"Open"},{id:9,codetype:i.Status,code:"Assigned",description:"Assigned"},{id:10,codetype:i.Status,code:"Review",description:"Review"},{id:20,codetype:i.Status,code:"Closed",description:"Closed"},{id:21,codetype:i.Size,code:"Small",description:"Small"},{id:22,codetype:i.Size,code:"Medium",description:"Medium"},{id:23,codetype:i.Size,code:"Large",description:"Large"}],j=[{id:1,title:"Develop nav bar",disporder:10001,boardcode:"Dev",projectcode:"WebUi",prioritycode:"High",sizecode:"Medium",statuscode:"Open",createdbyuser:"user",createdtimestamp:(new Date).toISOString(),assignedtouser:"luker",assignedtimestamp:(new Date).toISOString(),closedbyuser:"",closedtimestamp:"",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer posuere erat a ante.",comments:"",duedate:u(new Date,10).toISOString()},{id:2,title:"Develop CRUD for codes",disporder:10002,boardcode:"Dev",projectcode:"WebUi",prioritycode:"Medium",sizecode:"Small",statuscode:"Open",createdbyuser:"admin",createdtimestamp:(new Date).toISOString(),assignedtouser:"",assignedtimestamp:"",closedbyuser:"",closedtimestamp:"",description:"Far far away, behind the word mountains, far from the countries Vokalia and Consonantia, there live the blind texts. ",comments:"",duedate:u(new Date,10).toISOString()},{id:3,title:"Develop CRUD for users",disporder:10003,boardcode:"Dev",projectcode:"WebUi",prioritycode:"Medium",sizecode:"Small",statuscode:"Open",createdbyuser:"admin",createdtimestamp:(new Date).toISOString(),assignedtouser:"",assignedtimestamp:"",closedbyuser:"",closedtimestamp:"",description:"Far far away, behind the word mountains, far from the countries Vokalia and Consonantia, there live the blind texts. ",comments:"",duedate:u(new Date,10).toISOString()},{id:4,title:"Develop CRUD for items",disporder:10004,boardcode:"Dev",projectcode:"WebUi",prioritycode:"Medium",sizecode:"Small",statuscode:"Open",createdbyuser:"admin",createdtimestamp:(new Date).toISOString(),assignedtouser:"",assignedtimestamp:"",closedbyuser:"",closedtimestamp:"",description:"Far far away, behind the word mountains, far from the countries Vokalia and Consonantia, there live the blind texts. ",comments:"",duedate:u(new Date,10).toISOString()},{id:5,title:"Develop kanban board",disporder:10005,boardcode:"Dev",projectcode:"WebUi",prioritycode:"Medium",sizecode:"Small",statuscode:"Open",createdbyuser:"admin",createdtimestamp:(new Date).toISOString(),assignedtouser:"",assignedtimestamp:"",closedbyuser:"",closedtimestamp:"",description:"Far far away, behind the word mountains, far from the countries Vokalia and Consonantia, there live the blind texts. ",comments:"",duedate:u(new Date,10).toISOString()},{id:6,title:"Develop ui framework",disporder:10006,boardcode:"Dev",projectcode:"WebUi",prioritycode:"Medium",sizecode:"Small",statuscode:"Assigned",createdbyuser:"admin",createdtimestamp:(new Date).toISOString(),assignedtouser:"user",assignedtimestamp:(new Date).toISOString(),closedbyuser:"",closedtimestamp:"",description:"Far far away, behind the word mountains, far from the countries Vokalia and Consonantia, there live the blind texts. ",comments:"",duedate:u(new Date,10).toISOString()},{id:7,title:"Develop db schema",disporder:10007,boardcode:"Dev",projectcode:"WebUi",prioritycode:"Medium",sizecode:"Small",statuscode:"Closed",createdbyuser:"admin",createdtimestamp:(new Date).toISOString(),assignedtouser:"user",assignedtimestamp:(new Date).toISOString(),closedbyuser:"user",closedtimestamp:(new Date).toISOString(),description:"Far far away, behind the word mountains, far from the countries Vokalia and Consonantia, there live the blind texts. ",comments:"",duedate:u(new Date,10).toISOString()},{id:8,title:"Develop web api",disporder:10008,boardcode:"Dev",projectcode:"WebUi",prioritycode:"Medium",sizecode:"Small",statuscode:"Review",createdbyuser:"admin",createdtimestamp:(new Date).toISOString(),assignedtouser:"user",assignedtimestamp:(new Date).toISOString(),closedbyuser:"",closedtimestamp:"",description:"Far far away, behind the word mountains, far from the countries Vokalia and Consonantia, there live the blind texts. ",comments:"",duedate:u(new Date,10).toISOString()},{id:9,title:"Add more padding to item card",disporder:10009,boardcode:"Bugs",projectcode:"WebUi",prioritycode:"Medium",sizecode:"Small",statuscode:"Open",createdbyuser:"admin",createdtimestamp:(new Date).toISOString(),assignedtouser:"",assignedtimestamp:"",closedbyuser:"",closedtimestamp:"",description:"Add more padding to item card in kanban page",comments:"",duedate:u(new Date,10).toISOString()}],p=n(44);var h=n(34),O=n(3),f=n(53),g={MSG_LOGGED_IN:101,MSG_OPEN_MODAL:102,MSG_REFRESH_DATA:103},v=n(134),x=new(n.n(v).a),S={listenFor:function(e,t){return x.on(e,t)},listenOnce:function(e,t){return x.once(e,t)},off:function(e,t){return x.off(e,t)},emit:function(e,t){return x.emit(e,t)}};Object.freeze(S);var y=S,N=n(17),w=n(18),C=n(281),D="https://localhost:1314/v1",k=Symbol(),I=Symbol(),T=function(){function e(t){Object(N.a)(this,e),t!==I&&alert("Cannot construct singleton")}return Object(w.a)(e,[{key:"getAll",value:function(){var e="".concat(D,"/code/getall");return fetch(e,{method:"GET",headers:{"Content-Type":"application/json"},body:null}).then((function(e){return JSON.parse(e.json())}))}},{key:"updateCode",value:function(e){var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)},n="".concat(D,"/code/update");return fetch(n,t).then((function(e){return JSON.parse(e.json())}))}},{key:"insertCode",value:function(e){var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)},n="".concat(D,"/code/insert");return fetch(n,t).then((function(e){return JSON.parse(e.json())}))}}],[{key:"instance",get:function(){return this[k]||(this[k]=new e(I)),this[k]}}]),e}(),E=Symbol(),A=Symbol(),P=function(){function e(t){Object(N.a)(this,e),t!==A&&alert("Cannot construct singleton")}return Object(w.a)(e,[{key:"getAll",value:function(){var e="".concat(D,"/item/getall");return fetch(e,{method:"GET",headers:{"Content-Type":"application/json"},body:null}).then((function(e){return JSON.parse(e.json())}))}},{key:"updateItem",value:function(e){var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)},n="".concat(D,"/item/update");return fetch(n,t).then((function(e){return JSON.parse(e.json())}))}},{key:"insertItem",value:function(e){e.id=M.getNewItemId();var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)},n="".concat(D,"/item/insert");return fetch(n,t).then((function(e){return JSON.parse(e.json())}))}}],[{key:"instance",get:function(){return this[E]||(this[E]=new e(A)),this[E]}}]),e}(),R={user:{userName:"Ron deBoer",isLoggedIn:!1},items:[],codes:[]},M=new(function(){function e(){var t=this;Object(N.a)(this,e),this.observable=new C.a(R),this.itemService=P.instance,this.codeService=T.instance,this.updateUser=function(e){var n=Object.assign({},t.observable.getValue());Object.keys(e).forEach((function(t){n.user[t]=e[t]})),t.observable.next(n)},this.fetchItemsAndCodes=function(){var e=[];e.push(t.itemService.getAll().then((function(e){return e}))),e.push(t.codeService.getAll().then((function(e){return e}))),Promise.all(e).then((function(e){var n=Object.assign({},t.observable.getValue());n.items=e[0],n.codes=e[1],t.observable.next(n)}))}}return Object(w.a)(e,[{key:"getNewItemId",value:function(){return this.observable.getValue().items.sort((function(e,t){return parseInt(e.id,10)>parseInt(t.id,10)?1:-1})).slice(-1)[0].id+1}}]),e}()),U=n(0),L=function(e){return function(t){t.appStore;var n=Object(f.a)(t,["appStore"]),s=Object(a.useState)(R),c=Object(O.a)(s,2),o=c[0],i=c[1],r=null;return Object(a.useEffect)((function(){return r=M.observable.subscribe((function(e){i(e)})),M.fetchItemsAndCodes(),y.listenFor(g.MSG_REFRESH_DATA,(function(e){e.target.indexOf("itemsandcodes")>-1&&M.fetchItemsAndCodes()})),function(){r.unsubscribe()}}),[]),Object(U.jsx)(e,Object(h.a)({appStore:o},n))}},F=(n(261),L((function(e){return e.appStore.user.isLoggedIn?Object(U.jsxs)("nav",{className:"navbar navbar-expand-lg navbar-dark bg-custom",children:[Object(U.jsx)("a",{href:"#",className:"navbar-brand appname",children:"Bug Tracker Lite"}),Object(U.jsxs)("div",{className:"title",children:[Object(U.jsx)("div",{className:"title-left"}),Object(U.jsx)("div",{className:"title-center",children:e.appStore.user.userName}),Object(U.jsx)("div",{className:"title-right"})]}),Object(U.jsx)("div",{className:"collapse navbar-collapse",id:"navbarCollapse8",children:Object(U.jsxs)("ul",{className:"navbar-nav ml-auto",children:[Object(U.jsx)("li",{className:"nav-item",children:Object(U.jsx)(o.b,{exact:!0,to:"/",className:"nav-link",children:"Kanban"})}),Object(U.jsxs)("li",{className:"nav-item dropdown",children:[Object(U.jsx)("a",{className:"nav-link dropdown-toggle",href:"#",id:"adminDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:"Admin"}),Object(U.jsxs)("div",{className:"dropdown-menu","aria-labelledby":"adminDropdown",children:[Object(U.jsx)(o.b,{exact:!0,to:"/users",className:"dropdown-item",children:"Users"}),Object(U.jsx)(o.b,{exact:!0,to:"/codes",className:"dropdown-item",children:"Codes"}),Object(U.jsx)(o.b,{exact:!0,to:"/items",className:"dropdown-item",children:"Items"})]})]}),Object(U.jsx)("li",{className:"nav-item",children:Object(U.jsx)(o.b,{exact:!0,to:"/reports",className:"nav-link",children:"Reports"})}),Object(U.jsx)("li",{className:"nav-item",children:Object(U.jsx)(o.b,{exact:!0,to:"/logout",className:"nav-link",children:"Logout"})})]})})]}):null}))),_=n(6),G=n(52),z=n(139),J=n(138),B=(n(266),function(e){Object(z.a)(n,e);var t=Object(J.a)(n);function n(e){var a;return Object(N.a)(this,n),(a=t.call(this,e)).state={},a.handleEditClick=function(){var e={target:"itemeditor",data:a.props.item};y.emit(g.MSG_OPEN_MODAL,e)},a.handleEditClick=a.handleEditClick.bind(Object(G.a)(a)),a}return Object(w.a)(n,[{key:"componentDidMount",value:function(){}},{key:"getCodeClass",value:function(e,t){var n=t.toLowerCase();return"size"===e?"large"===n?"badge-danger":"medium"===n?"badge-warning":"badge-success":"status"!==e?"high"===n?"badge-danger":"medium"===n?"badge-warning":"badge-success":"open"===n?"badge-danger":"closed"!==n?"badge-warning":"badge-success"}},{key:"render",value:function(){var e=this;return Object(U.jsx)("div",{className:"card-container",children:Object(U.jsxs)("div",{className:"item-card-body",children:[Object(U.jsxs)("div",{className:"item-card-header",children:[Object(U.jsxs)("div",{className:"title",children:[Object(U.jsxs)("span",{className:"id",children:["(",this.props.item.id,")"]})," ",this.props.item.title]}),Object(U.jsx)("div",{className:"handle",children:Object(U.jsx)("button",{className:"btn-edit",onClick:function(t){e.handleEditClick()},children:Object(U.jsx)("span",{className:"icon",children:". . ."})})})]}),Object(U.jsx)("div",{className:"item-card-text",children:Object(U.jsxs)("div",{className:"codes",children:[Object(U.jsxs)("div",{className:"code",children:["Project",Object(U.jsx)("br",{}),Object(U.jsxs)("span",{className:"badge badge-pill badge-info",children:[" ",this.props.item.projectcode]})]}),Object(U.jsxs)("div",{className:"code",children:["Priority",Object(U.jsx)("br",{}),Object(U.jsx)("span",{className:"badge badge-pill ".concat(this.getCodeClass("priority",this.props.item.projectcode)),children:this.props.item.prioritycode})]}),Object(U.jsxs)("div",{className:"code",children:["Size",Object(U.jsx)("br",{}),Object(U.jsx)("span",{className:"badge badge-pill ".concat(this.getCodeClass("size",this.props.item.sizecode)),children:this.props.item.sizecode})]}),Object(U.jsxs)("div",{className:"code",children:["Status",Object(U.jsx)("br",{}),Object(U.jsx)("span",{className:"badge badge-pill ".concat(this.getCodeClass("status",this.props.item.statuscode)),children:this.props.item.statuscode})]}),Object(U.jsxs)("div",{className:"code",children:["Assigned",Object(U.jsx)("br",{}),Object(U.jsx)("span",{className:"badge badge-pill badge-primary",children:this.props.item.assignedtouser})]})]})})]})})}}]),n}(a.Component)),W=(n(267),function(e){return Object(U.jsxs)("div",{className:"column-container",children:[Object(U.jsxs)("div",{className:"ccheader",children:[Object(U.jsxs)("div",{className:"title",children:[e.title," Items"]}),Object(U.jsx)("div",{className:"newitem",children:Object(U.jsx)("button",{className:"btn-edit",onClick:function(){var t={target:"itemeditor",data:r};t.data.boardcode=e.boardcode,t.data.statuscode=e.statuscode,y.emit(g.MSG_OPEN_MODAL,t)},children:Object(U.jsx)("i",{className:"fa fa-plus fa-xs"})})})]}),Object(U.jsx)("div",{className:"itemlist",children:Object(U.jsx)("ul",{className:"open-items items",children:e.items.map((function(e,t){return Object(U.jsx)("li",{children:Object(U.jsx)(B,{item:e})},e.id)}))})})]})}),H=function(e){return Object(U.jsxs)("div",{className:"selectcode",children:[Object(U.jsx)("span",{className:"text",children:e.caption}),Object(U.jsx)("select",{className:"form-control-inline form-control-sm dropdown",id:e.name,name:e.name,onChange:function(t){return e.onChange(e.name,t)},children:e.options.map((function(e){return Object(U.jsx)("option",{value:e.code,children:e.code},e.key)}))})]})},V=(n(268),L((function(e){var t=Object(a.useState)("Dev"),n=Object(O.a)(t,2),s=n[0],c=n[1],o=Object(a.useState)(!1),i=Object(O.a)(o,2),r=i[0],d=i[1],l=Object(a.useState)([]),u=Object(O.a)(l,2),m=u[0],b=u[1];Object(a.useEffect)((function(){j(s),d((new Date).getTime())}),[]),Object(a.useEffect)((function(){j(s),d((new Date).getTime())}),[e.appStore.codes,e.appStore.items]);var j=function(t){b(e.appStore.items.filter((function(e){return e.boardcode===t})))},p=function(t,n){return e.appStore.codes.filter((function(e){return e.codetype===n})).map((function(e){return{key:n+"_"+e.id,code:e.code}}))},h=function(e,t){"boardcode"===e&&(c(t.target.value),j(t.target.value))};return!1===r?Object(U.jsx)("h4",{children:"Loading..."}):Object(U.jsxs)("div",{className:"home-container",children:[Object(U.jsx)("form",{children:Object(U.jsxs)("div",{className:"header",children:[Object(U.jsxs)("div",{className:"title",children:["Kanban Board - ",Object(U.jsx)("span",{className:"boardcode",children:s})]}),Object(U.jsx)(H,{caption:"Kanban Board",name:"boardcode",options:p(0,"BOARD"),onChange:h}),Object(U.jsx)(H,{caption:"Project",name:"projectcode",options:p(0,"PROJECT"),onChange:h})]})}),Object(U.jsxs)("div",{className:"main",children:[Object(U.jsx)(W,{title:"Open",items:m.filter((function(e){return"Open"===e.statuscode})),statuscode:"Open",boardcode:s}),Object(U.jsx)(W,{title:"Assigned",items:m.filter((function(e){return"Assigned"===e.statuscode})),statuscode:"Assigned",boardcode:s}),Object(U.jsx)(W,{title:"In Review",items:m.filter((function(e){return"Review"===e.statuscode})),statuscode:"Review",boardcode:s}),Object(U.jsx)(W,{title:"Closed",items:m.filter((function(e){return"Closed"===e.statuscode})),statuscode:"Closed",boardcode:s})]})]})}))),Y=n(24),q=n.n(Y),K=function(e){var t=Object(a.useState)(!1),n=Object(O.a)(t,2),s=(n[0],n[1],Object(a.useState)([])),c=Object(O.a)(s,2),o=c[0],i=c[1],r=P.instance;return Object(a.useEffect)((function(){r.getAll().then((function(e){i(e)}))}),[]),Object(U.jsxs)("div",{children:[Object(U.jsx)("h5",{children:"Reports"}),Object(U.jsx)(q.a,{striped:"true",columns:[{name:"Id",selector:"id",sortable:!0},{name:"Title",selector:"title",sortable:!0},{name:"Board Code",selector:"boardcode",sortable:!0},{name:"Size",selector:"sizecode",sortable:!0},{name:"Status",selector:"statuscode",sortable:!0},{name:"Assigned to",selector:"assignedtouser",sortable:!0},{name:"Project Code",selector:"projectcode",sortable:!0}],data:o})]})},Q=Symbol(),X=Symbol(),Z=function(){function e(t){Object(N.a)(this,e),t!==X&&alert("Cannot construct singleton")}return Object(w.a)(e,[{key:"getAll",value:function(){var e="".concat(D,"/user/getall");return fetch(e,{method:"GET",headers:{"Content-Type":"application/json"},body:null}).then((function(e){return JSON.parse(e.json())}))}},{key:"authenticate",value:function(e){var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)},n="".concat(D,"/user/authenticate");return fetch(n,t).then((function(e){return JSON.parse(e.json())}))}},{key:"updateUser",value:function(e){var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)},n="".concat(D,"/user/update");return fetch(n,t).then((function(e){return JSON.parse(e.json())}))}},{key:"insertUser",value:function(e){var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)},n="".concat(D,"/user/insert");return fetch(n,t).then((function(e){return JSON.parse(e.json())}))}}],[{key:"instance",get:function(){return this[Q]||(this[Q]=new e(X)),this[Q]}}]),e}(),$=(n(271),function(e){var t=Object(a.useState)(!1),n=Object(O.a)(t,2),s=(n[0],n[1],Object(a.useState)([])),c=Object(O.a)(s,2),o=c[0],i=c[1],r=Z.instance,d=[{name:"Id",selector:"id",sortable:!0},{name:"User Name",selector:"username",sortable:!0},{name:"Name",selector:"name",sortable:!0},{name:"Email",selector:"email",sortable:!0},{name:"Role",selector:"role",sortable:!0},{name:"Edit",cell:function(e){return Object(U.jsx)("button",{className:"btn-edit",onClick:function(t){l(e)},children:Object(U.jsx)("i",{className:"fa fa-pencil fa-xs"})})},ignoreRowClick:!0,allowOverflow:!0,button:!0}];Object(a.useEffect)((function(){r.getAll().then((function(e){i(e)}))}),[]);var l=function(e){var t=parseInt(e.id,10),n={target:"usereditor",data:o.find((function(e){return e.id===t}))};y.emit(g.MSG_OPEN_MODAL,n)};return Object(U.jsxs)("div",{className:"users-table",children:[Object(U.jsx)("h5",{children:"Users"}),Object(U.jsx)(q.a,{striped:"true",columns:d,data:o})]})}),ee=(n(272),function(e){var t=Object(a.useState)(!1),n=Object(O.a)(t,2),s=(n[0],n[1],Object(a.useState)([])),c=Object(O.a)(s,2),o=c[0],i=c[1],r=T.instance,d=[{name:"Id",selector:"id",sortable:!0},{name:"Code Type",selector:"codetype",sortable:!0},{name:"Code",selector:"code",sortable:!0},{name:"Description",selector:"description",sortable:!0},{name:"Edit",cell:function(e){return Object(U.jsx)("button",{className:"btn-edit",onClick:function(t){l(e)},children:Object(U.jsx)("i",{className:"fa fa-pencil fa-xs"})})},ignoreRowClick:!0,allowOverflow:!0,button:!0}];Object(a.useEffect)((function(){r.getAll().then((function(e){i(e)}))}),[]);var l=function(e){var t=parseInt(e.id,10),n={target:"codeeditor",data:o.find((function(e){return e.id===t}))};y.emit(g.MSG_OPEN_MODAL,n)};return Object(U.jsxs)("div",{className:"codes-table",children:[Object(U.jsx)("h5",{children:"Codes"}),Object(U.jsx)(q.a,{striped:"true",columns:d,data:o})]})}),te=(n(273),function(e){var t=Object(a.useState)(null),n=Object(O.a)(t,2),s=(n[0],n[1],Object(a.useState)(!1)),c=Object(O.a)(s,2),o=(c[0],c[1],Object(a.useState)([])),i=Object(O.a)(o,2),r=i[0],d=i[1],l=P.instance,u=[{name:"Id",selector:"id",sortable:!0},{name:"Title",selector:"title",sortable:!0},{name:"Board Code",selector:"boardcode",sortable:!0},{name:"Size",selector:"sizecode",sortable:!0},{name:"Status",selector:"statuscode",sortable:!0},{name:"Assigned to",selector:"assignedtouser",sortable:!0},{name:"Project Code",selector:"projectcode",sortable:!0},{name:"Edit",cell:function(e){return Object(U.jsx)("button",{className:"btn-edit",onClick:function(t){b(e)},children:Object(U.jsx)("i",{className:"fa fa-pencil fa-xs"})})},ignoreRowClick:!0,allowOverflow:!0,button:!0}];Object(a.useEffect)((function(){y.listenFor(g.MSG_REFRESH_DATA,(function(e){e.target.indexOf("itemlist")>-1&&m()})),m()}),[]);var m=function(){l.getAll().then((function(e){d(e)}))},b=function(e){var t=parseInt(e.id,10),n={target:"itemeditor",data:r.find((function(e){return e.id===t}))};y.emit(g.MSG_OPEN_MODAL,n)};return Object(U.jsxs)("div",{className:"items-table",children:[Object(U.jsx)("h5",{children:"Items"}),Object(U.jsx)(q.a,{striped:"true",columns:u,data:r})]})}),ne=Symbol(),ae=Symbol(),se=function(){function e(t){Object(N.a)(this,e),this.user=null,this.authenticated=!1,this.userService=Z.instance,t!==ae&&alert("Cannot construct singleton")}return Object(w.a)(e,[{key:"isAuthenticated",get:function(){return this[ne]||(this[ne]=new e(ae)),this.authenticated}},{key:"login",value:function(e,t){var n=this;this.authenticated=!1;var a=p.Rabbit.encrypt("".concat(e,".").concat(t),"QprU5OzwntBSJFfo6b6XRByY8G8cQELn").toString();return this.userService.authenticate({dat:a}).then((function(e){return n.user=e,sessionStorage.setItem("user",JSON.stringify(n.user)),n.authenticated=!0,{isLoggedIn:!0,user:{name:n.user.name}}}),(function(e){return n.logout(),{isLoggedIn:!1,user:{name:""}}}))}},{key:"logout",value:function(){sessionStorage.removeItem("user"),this.authenticated=!1}}],[{key:"instance",get:function(){return this[ne]||(this[ne]=new e(ae)),this[ne]}}]),e}(),ce=(n(274),function(e){var t=Object(a.useState)({username:"admin",password:"admin"}),n=Object(O.a)(t,2),s=n[0],c=n[1],o=Object(a.useState)(""),i=Object(O.a)(o,2),r=i[0],d=(i[1],Object(a.useState)(!1)),l=Object(O.a)(d,2),u=l[0],m=l[1],b=se.instance,j=function(e,t){var n=s;n[e]=t.target.value,c(n)},p=(e.location.state||{from:{pathname:"/"}}).from;return u?Object(U.jsx)(_.a,{to:p}):Object(U.jsxs)("div",{className:"login-container",children:[Object(U.jsx)("div",{className:"left-panel",children:Object(U.jsxs)("div",{className:"login-main-text",children:[Object(U.jsxs)("h2",{children:["Bug Tracker Lite",Object(U.jsx)("br",{}),"Login Page"]}),Object(U.jsx)("p",{children:"Login from here to access."})]})}),Object(U.jsx)("div",{className:"right-panel",children:Object(U.jsx)("div",{className:"login-form",children:Object(U.jsxs)("form",{children:[Object(U.jsxs)("div",{className:"form-group",children:[Object(U.jsx)("label",{htmlFor:"username",children:"User Name"}),Object(U.jsx)("input",{type:"text",className:"form-control",placeholder:"User Name",required:!0,minLength:"2",value:s.username,onChange:function(e){return j("username",e)}})]}),Object(U.jsxs)("div",{className:"form-group",children:[Object(U.jsx)("label",{htmlFor:"username",children:"Password"}),Object(U.jsx)("input",{type:"password",className:"form-control",placeholder:"",required:!0,minLength:"2",value:s.password,onChange:function(e){return j("password",e)}})]}),Object(U.jsx)("div",{className:"form-group",children:Object(U.jsx)("input",{type:"button",className:"btnSubmit btn btn-primary",value:"Login",onClick:function(){b.login(s.username,s.password).then((function(e){e.isLoggedIn&&(M.updateUser({userName:s.username,isLoggedIn:!0}),m(!0))}))}})}),Object(U.jsx)("div",{className:"form-group",children:Object(U.jsx)("a",{href:"#",className:"btnForgetPwd",children:"Forgot Password?"})}),Object(U.jsx)("div",{className:"error",children:r})]})})})]})}),oe=function(e){return se.instance.logout(),setTimeout((function(){y.emit(g.MSG_LOGGED_IN,{isLoggedIn:!1,user:{name:""}})}),100),Object(U.jsxs)("div",{children:[Object(U.jsx)("p",{children:"You are logged out"}),Object(U.jsxs)("p",{children:["Click"," ",Object(U.jsx)(o.b,{exact:!0,to:"/home",children:"HERE"})," ","to login."]})]})},ie=function(e){var t=e.component,n=Object(f.a)(e,["component"]);return Object(U.jsx)(_.b,Object(h.a)(Object(h.a)({},n),{},{render:function(e){return se.instance.isAuthenticated?Object(U.jsx)(t,Object(h.a)({},e)):Object(U.jsx)(_.a,{to:{pathname:"/login"}})}}))},re=function(e){return Object(U.jsxs)(_.d,{children:[Object(U.jsx)(_.b,{path:"/login",component:ce}),Object(U.jsx)(_.b,{path:"/logout",component:oe}),Object(U.jsx)(ie,{path:"/reports",component:K}),Object(U.jsx)(ie,{path:"/users",component:$}),Object(U.jsx)(ie,{path:"/codes",component:ee}),Object(U.jsx)(ie,{path:"/items",component:te}),Object(U.jsx)(ie,{path:"/",component:V})]})},de=function(e){return Object(U.jsx)("div",{style:{width:"auto",marginRight:"5px"},children:Object(U.jsx)("select",{className:"form-control-inline form-control-sm",id:e.name,name:e.name,value:e.value,onChange:function(t){return e.onChange(e.name,t)},children:e.options.map((function(e){return Object(U.jsx)("option",{value:e.code,children:e.code},e.key)}))})})},le=(n(275),function(e){var t=Object(a.useState)(!1),n=Object(O.a)(t,2),s=(n[0],n[1]),c=Object(a.useState)(null),o=Object(O.a)(c,2),i=o[0],r=o[1],d=Object(a.useState)({modalShow:"",display:"none"}),l=Object(O.a)(d,2),u=l[0],m=l[1],b=Object(a.useState)([]),j=Object(O.a)(b,2),p=j[0],h=j[1],f=Object(a.useState)([]),v=Object(O.a)(f,2),x=v[0],S=v[1],N=P.instance,w=T.instance,C=Z.instance;Object(a.useEffect)((function(){y.listenFor(g.MSG_OPEN_MODAL,(function(e){"itemeditor"===e.target&&(r(e.data),null!==e.data?D():k())})),w.getAll().then((function(e){h(e)})),C.getAll().then((function(e){S(e)})),s((new Date).getTime())}),[]);var D=function(){m({modalShow:"show",display:"block"})},k=function(){m({modalShow:"",display:"none"})},I=function(e,t){if("ASSIGNED"!==t){var n=p.filter((function(e){return e.codetype===t})).map((function(e){return{key:t+"_"+e.id,code:e.code}}));return n.unshift({key:t+"_0",code:""}),n}var a=x.map((function(e){return{key:t+"_"+e.id,code:e.username}}));return a.unshift({key:t+"_0",code:""}),a},E=function(){return""===i.title?"You must enter a title":""===i.boardcode?"You must enter a boardcode":""},A=function(e,t){var n=Object.assign({},i);n[e]=t.target.value,r(n)};if(!i)return null;var R=0===i.id?"Create New Item":"Edit Item "+i.id;return Object(U.jsx)("div",{className:"modale","aria-hidden":"true",style:{display:u.display},children:Object(U.jsx)("div",{className:"modal fade "+u.modalShow,id:"modalItem",tabIndex:"-1",role:"dialog","aria-hidden":"true",style:{display:u.display},children:Object(U.jsx)("div",{className:"modal-dialog",role:"document",children:Object(U.jsx)("div",{className:"modal-content",children:Object(U.jsx)("form",{className:"needs-validation",children:Object(U.jsxs)("div",{className:"modal-content",children:[Object(U.jsxs)("div",{className:"modal-header",children:[Object(U.jsx)("h5",{className:"modal-title",children:R}),Object(U.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",onClick:k,children:Object(U.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(U.jsxs)("div",{className:"modal-body",children:[Object(U.jsxs)("div",{className:"form-group",children:[Object(U.jsx)("label",{className:"label",htmlFor:"title",children:"Title"}),Object(U.jsx)("input",{type:"text",className:"form-control form-control-sm input-sm",id:"title",name:"title",value:i.title,onChange:function(e){return A("title",e)}})]}),Object(U.jsxs)("div",{className:"form-group",children:[Object(U.jsx)("label",{className:"label",htmlFor:"description",children:"Description"}),Object(U.jsx)("textarea",{rows:"3",className:"form-control form-control-sm",id:"description",name:"description",required:!0,minLength:"4",value:i.description,onChange:function(e){return A("description",e)}})]}),Object(U.jsxs)("div",{className:"controlrow",children:[Object(U.jsxs)("div",{className:"form-group dropdown",children:[Object(U.jsx)("div",{className:"caption",children:"Kanban Board"}),Object(U.jsx)(de,{name:"boardcode",value:i.boardcode,options:I(0,"BOARD"),onChange:A})]}),Object(U.jsxs)("div",{className:"form-group dropdown",children:[Object(U.jsx)("div",{className:"caption",children:"Project"}),Object(U.jsx)(de,{name:"projectcode",value:i.projectcode,options:I(0,"PROJECT"),onChange:A})]}),Object(U.jsxs)("div",{className:"form-group dropdown",children:[Object(U.jsx)("div",{className:"caption",children:"Priority"}),Object(U.jsx)(de,{name:"prioritycode",value:i.prioritycode,options:I(0,"PRIORITY"),onChange:A})]}),Object(U.jsxs)("div",{className:"form-group dropdown",children:[Object(U.jsx)("div",{className:"caption",children:"Size"}),Object(U.jsx)(de,{name:"sizecode",value:i.sizecode,options:I(0,"SIZE"),onChange:A})]}),Object(U.jsxs)("div",{className:"form-group dropdown",children:[Object(U.jsx)("div",{className:"caption",children:"Status"}),Object(U.jsx)(de,{name:"statuscode",value:i.statuscode,options:I(0,"STATUS"),onChange:A})]}),Object(U.jsxs)("div",{className:"form-group dropdown",children:[Object(U.jsx)("div",{className:"caption",children:"Assigned To"}),Object(U.jsx)(de,{name:"assignedtouser",value:i.assignedtouser,options:I(0,"ASSIGNED"),onChange:A})]})]}),Object(U.jsxs)("div",{className:"form-group",children:[Object(U.jsx)("label",{className:"label",htmlFor:"comments",children:"Comments"}),Object(U.jsx)("textarea",{rows:"3",className:"form-control form-control-sm input-sm",id:"comments",name:"comments",value:i.comments,onChange:function(e){return A("comments",e)}})]})]}),Object(U.jsxs)("div",{className:"modal-footer",children:[Object(U.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:k,children:"Close"}),Object(U.jsx)("button",{type:"button",className:"btn btn-primary",onClick:function(){var e=E();if(""===e){(i.id>0?N.updateItem(i):N.insertItem(i)).then((function(e){var t={target:"itemsandcodes,itemlist",data:i};y.emit(g.MSG_REFRESH_DATA,t),k()}))}else alert(e)},children:"Save"})]})]})})})})})})}),ue=(n(276),function(e){var t=Object(a.useState)(!1),n=Object(O.a)(t,2),s=(n[0],n[1]),c=Object(a.useState)(null),o=Object(O.a)(c,2),r=o[0],d=o[1],l=Object(a.useState)(Object.values(i)),u=Object(O.a)(l,2),m=u[0],b=(u[1],Object(a.useState)({modalShow:"",display:"none"})),j=Object(O.a)(b,2),p=j[0],h=j[1],f=T.instance;Object(a.useEffect)((function(){y.listenFor(g.MSG_OPEN_MODAL,(function(e){"codeeditor"===e.target&&(d(e.data),null!==e.data?v():x())})),s((new Date).getTime())}),[]);var v=function(){h({modalShow:"show",display:"block"})},x=function(){h({modalShow:"",display:"none"})},S=function(e,t){var n=Object.assign({},r);n[e]=t.target.value,d(n)};return r?Object(U.jsx)("div",{className:"modale","aria-hidden":"true",style:{display:p.display},children:Object(U.jsx)("div",{className:"modal fade "+p.modalShow,id:"modalItem",tabIndex:"-1",role:"dialog","aria-hidden":"true",style:{display:p.display},children:Object(U.jsx)("div",{className:"modal-dialog",role:"document",children:Object(U.jsx)("form",{className:"needs-validation",children:Object(U.jsxs)("div",{className:"modal-content modal-content-codes",children:[Object(U.jsxs)("div",{className:"modal-header",children:[Object(U.jsxs)("h5",{className:"modal-title",children:["Edit Code ",r.id]}),Object(U.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",onClick:x,children:Object(U.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(U.jsxs)("div",{className:"modal-body",children:[Object(U.jsxs)("div",{className:"form-group",children:[Object(U.jsx)("label",{className:"label",htmlFor:"title",children:"Code Type"}),Object(U.jsx)("select",{className:"form-control form-control-sm input-sm dropdown",id:"codetype",name:"codetype",value:r.codetype,onChange:function(e){return S("codetype",e)},children:m.map((function(e){return Object(U.jsx)("option",{value:e,children:e},e)}))})]}),Object(U.jsxs)("div",{className:"form-group",children:[Object(U.jsx)("label",{className:"label",htmlFor:"title",children:"Code"}),Object(U.jsx)("input",{type:"text",className:"form-control form-control-sm input-sm dropdown",id:"code",name:"code",value:r.code,onChange:function(e){return S("code",e)}})]}),Object(U.jsxs)("div",{className:"form-group",children:[Object(U.jsx)("label",{className:"label",htmlFor:"title",children:"Description"}),Object(U.jsx)("input",{type:"text",className:"form-control form-control-sm input-sm",id:"description",name:"description",value:r.description,onChange:function(e){return S("description",e)}})]})]}),Object(U.jsxs)("div",{className:"modal-footer",children:[Object(U.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:x,children:"Close"}),Object(U.jsx)("button",{type:"button",className:"btn btn-primary",onClick:function(){f.updateCode(r),x()},children:"Save"})]})]})})})})}):null}),me=(n(277),function(e){var t=Object(a.useState)(!1),n=Object(O.a)(t,2),s=(n[0],n[1]),c=Object(a.useState)(null),o=Object(O.a)(c,2),i=o[0],r=o[1],d=Object(a.useState)(["admin","user"]),l=Object(O.a)(d,2),u=l[0],m=(l[1],Object(a.useState)({modalShow:"",display:"none"})),b=Object(O.a)(m,2),j=b[0],p=b[1],h=Z.instance;Object(a.useEffect)((function(){y.listenFor(g.MSG_OPEN_MODAL,(function(e){"usereditor"===e.target&&(r(e.data),null!==e.data?f():v())})),s((new Date).getTime())}),[]);var f=function(){p({modalShow:"show",display:"block"})},v=function(){p({modalShow:"",display:"none"})},x=function(e,t){var n=Object.assign({},i);n[e]=t.target.value,r(n)};return null!==i&&Object(U.jsx)("div",{className:"modale","aria-hidden":"true",style:{display:j.display},children:Object(U.jsx)("div",{className:"modal fade "+j.modalShow,id:"modalItem",tabIndex:"-1",role:"dialog","aria-hidden":"true",style:{display:j.display},children:Object(U.jsx)("div",{className:"modal-dialog",role:"document",children:Object(U.jsx)("div",{className:"modal-content",children:Object(U.jsx)("form",{className:"needs-validation",children:Object(U.jsxs)("div",{className:"modal-content",children:[Object(U.jsxs)("div",{className:"modal-header",children:[Object(U.jsxs)("h5",{className:"modal-title",children:["Edit User ",i.id]}),Object(U.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",onClick:v,children:Object(U.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(U.jsxs)("div",{className:"modal-body",children:[Object(U.jsxs)("div",{className:"form-group",children:[Object(U.jsx)("label",{className:"label",htmlFor:"username",children:"User Name"}),Object(U.jsx)("input",{type:"text",className:"form-control form-control-sm input-sm dropdown",id:"username",name:"username",value:i.username,onChange:function(e){return x("username",e)}})]}),Object(U.jsxs)("div",{className:"form-group",children:[Object(U.jsx)("label",{className:"label",htmlFor:"name",children:"Full Name"}),Object(U.jsx)("input",{type:"text",className:"form-control form-control-sm input-sm",id:"name",name:"name",value:i.name,onChange:function(e){return x("name",e)}})]}),Object(U.jsxs)("div",{className:"form-group",children:[Object(U.jsx)("label",{className:"label",htmlFor:"email",children:"Email"}),Object(U.jsx)("input",{type:"text",className:"form-control form-control-sm input-sm",id:"email",name:"email",value:i.email,onChange:function(e){return x("email",e)}})]}),Object(U.jsxs)("div",{className:"form-group",children:[Object(U.jsx)("label",{className:"label",htmlFor:"role",children:"Role"}),Object(U.jsx)("select",{className:"form-control form-control-sm input-sm dropdown",id:"role",name:"role",value:i.role,onChange:function(e){return x("role",e)},children:u.map((function(e){return Object(U.jsx)("option",{value:e,children:e},e)}))})]})]}),Object(U.jsxs)("div",{className:"modal-footer",children:[Object(U.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:v,children:"Close"}),Object(U.jsx)("button",{type:"button",className:"btn btn-primary",onClick:function(){h.updateUser(i),v()},children:"Save"})]})]})})})})})})}),be=function(e){return Object(U.jsxs)("div",{style:{width:"80%",margin:"auto",maxHeight:"100vh",minHeight:"100vh",display:"grid",gridTemplateRows:"auto 1fr"},children:[Object(U.jsx)(F,{}),Object(U.jsx)(re,{}),Object(U.jsx)(le,{}),Object(U.jsx)(me,{}),Object(U.jsx)(ue,{})]})};n(278);!function(){var e=localStorage.getItem("demoDb");if(!Boolean(e)){var t={users:m,code:b,item:j};localStorage.setItem("demoDb",JSON.stringify(t))}d=JSON.parse(localStorage.getItem("demoDb"))}(),function(){var e=window.fetch;window.fetch=function(t,n){var a=n.method,s=(n.headers,n.body&&JSON.parse(n.body));return new Promise((function(c,o){function i(e,t){var n=d[t].find((function(t){return t.id===e.id}));return Object.keys(e).forEach((function(t){"id"!==t&&(n[t]=e[t])})),setTimeout((function(){l()}),250),m({})}function r(e,t){return d[t].push(e),setTimeout((function(){l()}),250),m({})}function u(e){return m(d[e])}function m(e){c({status:200,json:function(){return JSON.stringify(e)}})}setTimeout((function(){switch(!0){case t.includes("/user/"):return function(t,a){var l="users";switch(!0){case t.endsWith("/authenticate")&&"POST"===a:return function(e){var t=p.Rabbit.decrypt(e,"QprU5OzwntBSJFfo6b6XRByY8G8cQELn").toString(p.enc.Utf8).split("."),n=d.users.find((function(e){return e.username===t[0]&&e.password===t[1]}));if(void 0===n)return a="Invalid credentials",void c({status:400,json:function(){return JSON.stringify({message:a})}});var a;var s=n;return m({id:s.id,username:s.username,name:s.name,email:"",role:s.role,token:"dummy-jwt-token.".concat(s.id),boardcode:s.boardcode})}(s.dat);case t.endsWith("/update")&&"POST"===a:return i(s,l);case t.endsWith("/insert")&&"POST"===a:return r(s,l);case t.endsWith("/getall")&&"GET"===a:return u(l);default:return e(t,n).then((function(e){return c(e)})).catch((function(e){return o(e)}))}}(t,a);case t.includes("/code/"):return function(t,a){var d="code";switch(!0){case t.endsWith("/update")&&"POST"===a:return i(s,d);case t.endsWith("/insert")&&"POST"===a:return r(s,d);case t.endsWith("/getall")&&"GET"===a:return u(d);default:return e(t,n).then((function(e){return c(e)})).catch((function(e){return o(e)}))}}(t,a);case t.includes("/item/"):return function(t,a){var d="item";switch(!0){case t.endsWith("/update")&&"POST"===a:return i(s,d);case t.endsWith("/insert")&&"POST"===a:return r(s,d);case t.endsWith("/getall")&&"GET"===a:return u(d);default:return e(t,n).then((function(e){return c(e)})).catch((function(e){return o(e)}))}}(t,a);default:return e(t,n).then((function(e){return c(e)})).catch((function(e){return o(e)}))}}),250)}))}}(),c.a.render(Object(U.jsx)(o.a,{children:Object(U.jsx)(be,{})}),document.getElementById("root"))}},[[279,1,2]]]);
//# sourceMappingURL=main.fe58e675.chunk.js.map